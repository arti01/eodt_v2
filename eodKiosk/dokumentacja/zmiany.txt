2016-11-05
wygasanie sesji:
INSERT INTO ekiosk.ekconfig(id, nazwa, opis, wartosc) VALUES (2, 'iddle', 'wygasniecie sesji w minutach', '1');

Paginator dla kafli na stronie głównej

Repozytoria powinny już się rozwijać poprawnie

Info o urlopach i nadgodz. się pojawia po zalogowaniu

Szczegóły newsów na całym ekranie

Zielony przycisk (i czarny od czytnika też) wpisują informacje o zalogowaniu (cardno)

2016-11-02
Urlopy - trzeba wypełnić tabele user_profil - a dokladnie pole eod_id które musi być relacja do pola id tabeli uzytkownicy w eod

2016-11-01

Views dla procesu logowania.
Trzeba pamiętać, aby właściwie skonfigurować namiary w contex.xml

poniżej views do stworzenia (najlepiej zrobić tak, że jak po pierwszym deploymencie
stworzą się tabele, to trzeba wywalić tabele które się nazywają tak, jak te views
poniżej - bo się mogą stworzyć - i założyć views wg tego, co poniżej.
Hasło na sztywno jest ustawione jako 'haslo' - wystarczy zmienić w definicji view.

CREATE OR REPLACE VIEW ekiosk.view_user_roles AS 
 SELECT roles.role_name,
    user_profil.cardno
   FROM ekiosk.j_user_role,
    ekiosk.roles,
    ekiosk.user_profil
  WHERE j_user_role.rid = roles.id AND user_profil.id = j_user_role.uid;

CREATE OR REPLACE VIEW ekiosk.view_user AS 
 SELECT user_profil.cardno, char(50) 'haslo' as password
   FROM ekiosk.user_profil;

2016-10-30

1. aby wejść do części dla "zalogowanych" trzeba na razie kliknąć przycisk logowania
2. ten sam przycisk służy do "wylogowania" i powrotu do strony głównej
3. linki są w opcji "inne linki" i są w tabeli ekobcelinki gdzie nazwa to url np. http://www.wp.pl a opis (np. wirtualna polska) to tekst wyświetlany na przycisku
4. repozytorium jest zdefiniowane w tabeli ekconfig jako:
INSERT INTO ekiosk.ekconfig(id, nazwa, opis, wartosc) VALUES (1, 'dir_repo', '', '/home/arti01/tmp');

jar do eod wymaga:
<Resource auth="Container" driverClassName="org.postgresql.Driver" maxIdle="3" maxTotal="10" maxWaitMillis="20000" name="jdbc/eodt" password="eod" type="javax.sql.DataSource" url="jdbc:postgresql://192.168.1.13:5432/eod_ocr" username="eod"/>
w contex.xml - ważne, aby name="jdbc/eodt"
