<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pm="http://primefaces.org/mobile"
      xmlns:pe="http://primefaces.org/ui/extensions">

    <f:view renderKitId="PRIMEFACES_MOBILE" />
    <h:head>
    </h:head>
    <h:body>

        <pm:page id="main">
            <pm:header title="strona logowania"></pm:header>
            <pm:content>
                <p:button outcome="pm:second" value="składanie wniosku"/>
            </pm:content>
        </pm:page>
        <pm:page id="second">
            <h:form id="form">
                <pm:content>
                    <p:panel id="cont" header="obsluga urlopu">  
                        <p:button outcome="pm:main" value="powrót do logowania"/>
                        <pm:field>
                            <p:outputLabel value="Cały dzień?" />
                            <p:inputSwitch id="calyDzien" value="#{urlopyMg.calyDzien}" offLabel="Nie" onLabel="Tak" >
                                <p:ajax event="change" update="cont" process="calyDzien" />
                            </p:inputSwitch>
                        </pm:field>

                        <pm:field rendered="#{urlopyMg.calyDzien}">
                            <p:outputLabel for="data_od" value="Data od:" />
                            <p:calendar id="data_od" value="#{urlopyMg.urlop.dataOd}" pattern="yyyy-MM-dd" locale="pl"/>
                        </pm:field>
                        <pm:field rendered="#{urlopyMg.calyDzien}">
                            <p:outputLabel for="data_do" value="Data do:" rendered="#{urlopyMg.calyDzien}"/>
                            <p:calendar id="data_do" value="#{urlopyMg.urlop.dataDo}" pattern="yyyy-MM-dd"/>
                        </pm:field>

                        <pm:field rendered="#{!urlopyMg.calyDzien}">
                            <p:outputLabel for="data_url" value="Dzień urlopu:"/>
                            <p:calendar id="data_url" value="#{urlopyMg.dataUrlopu}" pattern="yyyy-MM-dd" locale="pl"/>
                        </pm:field>
                        <pm:field rendered="#{!urlopyMg.calyDzien}">
                            <p:outputLabel for="data_od_godz" value="Godzina od:"/>
                            <pe:timePicker id="data_od_godz" value="#{urlopyMg.godzOdT}"/>
                        </pm:field>
                        <pm:field rendered="#{!urlopyMg.calyDzien}">
                            <p:outputLabel for="data_do_godz" value="Godzina do:" rendered="#{!urlopyMg.calyDzien}"/>
                            <pe:timePicker id="data_do_godz" value="#{urlopyMg.godzDoT}" locale="pl"/>
                        </pm:field>

                        <p:commandButton value="złóż wniosek" action="#{test.testUrl}" process="@this" update="cont"/>
                        <p:outputLabel value="złożono wniosek o numerze: #{test.testS}"/>
                        <p:button outcome="pm:main" value="powrót do logowania"/>
                    </p:panel>
                </pm:content>
            </h:form>
        </pm:page>

    </h:body>
</html>