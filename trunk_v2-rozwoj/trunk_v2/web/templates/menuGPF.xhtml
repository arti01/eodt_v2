<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <p:menubar>
        <p:menuitem style="background-color: #C1DFFF" value="Start" action="#{login.stronaIndex}" icon="ui-icon-refresh"/>

        <p:submenu style="background-color: #e2e8fa" label="Dokumenty">
            <p:submenu style="background-color: #e2e8fa" label="konfiguracja" rendered="#{login.dcCfg}">
                <p:menuitem style="background-color: #e2e8fa" value="Grupy rodzajów" action="#{RodzajeGrupyCfg.list}" />
                <p:menuitem style="background-color: #e2e8fa" value="Rodzaje" action="#{RodzajeCfg.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Teczki" action="#{TeczkiCfg.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Żródła" action="#{ZrodlaCfg.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Kat. arch. w kom. merytorycznej" action="#{SymbMer1Cfg.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Kat. arch. w innych komórkach" action="#{SymbMer2Cfg.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Kontrahenci" action="#{KontrahenciCfg.list}"/>
            </p:submenu>    
            <p:submenu style="background-color: #e2e8fa" label="rejestracja" rendered="#{login.dcRej}">
                <p:menuitem style="background-color: #e2e8fa" value="Emaile" action="#{RejEmaile.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Poczekalnia" action="#{RejImpPlik.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Rejestracja" action="#{RejestracjaRej.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Lista kontrahentów" action="#{RejestracjaRej.kontrahentList}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Raport pocztowy" action="#{RaportyRej.raportPocz}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Wyszukaj" action="#{WyszukajRej.form}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Do brakowania" action="#{BrakowanieRej.list}"/>
            </p:submenu>
            <p:submenu style="background-color: #e2e8fa" label="odbiór" rendered="#{login.dcOdb}">
                <p:menuitem style="background-color: #e2e8fa" value="Do akceptacji" action="#{AkceptOdb.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Historia akceptacji" action="#{HistOdb.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Do wiadomości" action="#{DoWiadOdb.list}"/>
            </p:submenu>
        </p:submenu>

        <p:submenu style="background-color: #e2e8fa" label="Archiwum">
            <p:submenu style="background-color: #e2e8fa" label="Dokumenty - archiwum" rendered="#{login.dcArc}">
                <p:menuitem style="background-color: #e2e8fa" value="Do archiwum" action="#{PrzeniesArch.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Poczekalnia" action="#{PoczekalniaArch.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Archiwum" action="#{WArchiwumArch.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Dokumenty" action="#{DokumentyArch.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Wyszukaj w archiwum" action="#{WyszukajArch.form}"/>
            </p:submenu>
            <p:submenu style="background-color: #e2e8fa" label="Archiwum - raporty" rendered="#{login.dcArc}">
                <p:menuitem style="background-color: #e2e8fa" value="Do brakowania" action="#{BrakowanieArch.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Zajętość Archiwów" action="#{ZajetoscArch.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Niezwrócone" action="#{RaportyArch.nieZwrocone}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Wydane wg osoby" action="#{RaportyArch.wydWgOsoby}"/>
            </p:submenu>
        </p:submenu>

        <p:submenu style="background-color: #e2e8fa" label="Rezerwacje" expanded="#{login.menuRezerExp}">
            <p:menuitem style="background-color: #e2e8fa" value="Rezerwuj" action="#{RezerwacjeMg.list}"/>
        </p:submenu>

        <p:submenu style="background-color: #e2e8fa" label="Zasoby Materiałowe">
            <p:menuitem style="background-color: #e2e8fa" value="Lista zasobów" action="#{URejDokMg.list}"/>
            <p:menuitem style="background-color: #e2e8fa" value="Lista dokumentów" action="#{UrzadzeniaMg.list}"/>
            <p:menuitem style="background-color: #e2e8fa" value="Raport stanów" action="#{UGrupaMg.raport1}"/>

            <p:submenu style="background-color: #e2e8fa" label="Konfiguracja" rendered="#{login.umCfg}">
                <p:menuitem style="background-color: #e2e8fa" value="Master Grupy" action="#{UMasterMg.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Grupy" action="#{UGrupaMg.list}"/>
                <p:menuitem style="background-color: #e2e8fa" value="Drzewo" action="#{UStruktMg.list}"/>
            </p:submenu>
        </p:submenu>

        <p:submenu style="background-color: #e2e8fa" label="Struktura organizacyjna" rendered="#{login.struktura}">
            <p:menuitem style="background-color: #e2e8fa" value="Nowy pracownik" action="#{UsersM.nowy}"/>
            <p:menuitem style="background-color: #e2e8fa" value="Lista pracowników" action="#{UsersM.lista}"/>
            <p:menuitem style="background-color: #e2e8fa" value="Struktura osobowa" action="#{StruktOsM.lista}"/>
            <p:menuitem style="background-color: #e2e8fa" value="Struktura działów" action="#{StruktDzialM.lista}"/>
        </p:submenu>

        <p:menuitem style="background-color: #e2e8fa" value="Zarządzanie spółkami" action="#{SpolkiMg.list}" rendered="#{login.admin}"/>
        <p:menuitem style="background-color: #e2e8fa" value="Ustaw swojego zastępcę" action="#{UsersM.ustawZastepce}"  rendered="#{login.kierownik}"/>
        <p:menuitem style="background-color: #e2e8fa" value="Lista wszystkich wniosków" action="#{UrlopAll.list}" rendered="#{login.admin}"/>

        <p:submenu style="background-color: #e2e8fa" label="Obsługa urlopów" rendered="#{login.urlop}">
            <p:menuitem style="background-color: #e2e8fa" value="Twoje wnioski" action="#{UrlopM.list}"/>
            <p:menuitem style="background-color: #e2e8fa" value="Wnioski do akceptacji" action="#{UrlopM.listPodwl}" rendered="#{login.zalogowany.stKier or fn:length(login.zalogowany.userId.strukturaSec)>0}"/>
            <p:menuitem style="background-color: #e2e8fa" value="Historia wniosków" action="#{UrlopM.listPodwlHist}" rendered="#{login.zalogowany.stKier}"/>
            <p:menuitem style="background-color: #e2e8fa" value="Obce wnioski" action="#{UrlopObceM.list}" rendered="#{login.zalogowany.przyjmowanieWnioskow}"/>
        </p:submenu>

        <p:submenu style="background-color: #e2e8fa" label="Inne">
            <p:menuitem style="background-color: #e2e8fa" value="Repozytorium dokumentów" action="#{RepozytMg.list}"/>
            <p:menuitem style="background-color: #e2e8fa" value="Ogłoszenia - zarządzanie" action="#{OgloszeniaMg.list}" rendered="#{login.ogl}"/>
            <p:menuitem style="background-color: #e2e8fa" value="Zmiana hasła" action="#{login.htmlZmianaHasla}" 
                        rendered="#{(login.zalogowany.userId.extId=='' or fn:contains(login.zalogowany.userId.extId, '@') or fn:contains(login.zalogowany.userId.extId, 'FN')) and login.zalogowany!=null}"/>
            <p:menuitem style="background-color: #e2e8fa" rendered="#{fn:length(login.zalogowany.userId.wnLimity.ulimit)!=0}">
                Dostępny urlop:<br/>
                <strong>#{login.zalogowany.userId.wnLimity.ulimit}</strong>
            </p:menuitem>
        </p:submenu>

        <p:menuitem style="background-color: #C1DFFF" value="Wyjście" url="../logowanie/logout.jsp"/>
        <p:menuitem style="font-size: smaller; font-weight: bolder">
            Zalogowany jako: #{login.zalogowany.userId.fullname}, spółka: #{login.zalogowany.userId.spolkaId.nazwa}
        </p:menuitem>

    </p:menubar>
    <h:panelGroup rendered="#{fn:length(login.menuLinki)>0}">
        <h4>do pobrania</h4>
        <ul>
            <ui:repeat value="#{login.menuLinki}" var="menuLinki">
                <li>
                    <h:outputLink value="#{menuLinki.link}">
                        <h:outputText value="#{menuLinki.nazwa}"/>
                    </h:outputLink>
                    <h:outputText value="#{menuLinki.opis}"/>
                </li>
            </ui:repeat>
        </ul>
    </h:panelGroup>

</html>
